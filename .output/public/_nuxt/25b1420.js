(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{590:function(t,e,r){"use strict";r.r(e);r(17);var n=r(11),o=(r(51),r(15),{auth:!0,data:function(){return{orders:[],users:[],order:{},user:{},page:1,perPage:10}},mounted:function(){this.getOrders()},computed:{paginatedItems:function(){var t=(this.page-1)*this.perPage;return this.orders.slice(t,t+this.perPage)}},methods:{getOrders:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/api/orders?history[status]=");case 2:r=e.sent,t.orders=r.data.data;case 4:case"end":return e.stop()}}),e)})))()},myCallback:function(t){this.page=t}}}),d=r(68),component=Object(d.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",[e("div",{staticClass:"d-flex justify-content-end"},[e("button",{staticClass:"btn bg-trivi-green text-white mb-2",on:{click:function(e){return t.$router.push({path:"/orders"})}}},[e("i",{staticClass:"fa fa-check"}),t._v("\n                Pedidos recientes\n            ")])]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[t._m(1),t._v(" "),t.orders.length>0?e("tbody",t._l(t.paginatedItems,(function(r){var n,o,d,c;return e("tr",{key:r.id},[null==r.guest?e("td",[t._v(t._s(null===(n=r.user_profile)||void 0===n?void 0:n.name)+" "+t._s(null===(o=r.user_profile)||void 0===o?void 0:o.lastname))]):e("td",[t._v(t._s(null===(d=r.guest)||void 0===d?void 0:d.name)+" "+t._s(null===(c=r.guest)||void 0===c?void 0:c.lastname))]),t._v(" "),e("td",[t._v(t._s(r.order_date))]),t._v(" "),4==r.status?e("td",[t._v("Completado")]):t._e(),t._v(" "),5==r.status?e("td",[t._v("Cancelado")]):t._e(),t._v(" "),e("td",[e("n-link",{staticClass:"btn bg-trivi-blue",attrs:{to:"/orders-view/".concat(r.id)}},[e("i",{staticClass:"pe-7s-look"})])],1)])})),0):e("tbody",[t._m(2)])]),t._v(" "),e("div",{staticClass:"d-flex justify-content-center mt-2"},[e("pagination",{attrs:{records:t.orders.length,perPage:t.perPage},on:{paginate:t.myCallback},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)])])}),[function(){var t=this._self._c;return t("div",[t("h2",[this._v("Historial de pedidos")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:""}},[t._v("Cliente")]),t._v(" "),e("th",{attrs:{scope:""}},[t._v("Fecha")]),t._v(" "),e("th",{attrs:{scope:""}},[t._v("Estado")]),t._v(" "),e("th",{attrs:{scope:""}},[t._v("Acciones")])])])},function(){var t=this._self._c;return t("tr",[t("td",{attrs:{colspan:"6"}},[this._v("No hay pedidos pendientes.")])])}],!1,null,null,null);e.default=component.exports}}]);