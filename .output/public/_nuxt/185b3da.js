(window.webpackJsonp=window.webpackJsonp||[]).push([[56,28,52],{532:function(t,e,n){t.exports={}},533:function(t,e,n){"use strict";n.r(e);n(9),n(132),n(18);var r=n(11),o=(n(51),{data:function(){return{searchFather:!1,products:[],search:"",url:"https://admin.trivicare.com",hidden:!0}},watch:{search:function(t){if(""==t||null==t)return this.products=[],this.$root.$emit("opacityOther",!1),void(this.hidden=!0);this.search=t,this.getProducts(),this.$root.$emit("opacityOther",!0)}},methods:{getProducts:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("getProducts",{perPage:"",page:"",category:"",search:t.search,slug:"",sort:"",tag:"",status:2});case 2:n=t.$store.getters.getProducts,t.products=n.data;case 4:case"end":return e.stop()}}),e)})))()}}}),c=(n(534),n(68)),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("client-only",[e("div",{staticClass:"container d-block"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control rounded-0",attrs:{type:"text",placeholder:"Encuentra tu lado más natural...","aria-label":"Buscar...","aria-describedby":"basic-addon1"},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},function(e){t.hidden=!1}]}}),t._v(" "),e("span",{staticClass:"input-group-text rounded-0 bg-blue-color",attrs:{id:"basic-addon1"}},[e("i",{staticClass:"fa fa-search"})])])]),t._v(" "),e("div",{staticClass:"col-12"},[e("div",{staticClass:"position-relative"},[e("div",{staticClass:"search-box",class:{active:0==t.hidden},attrs:{id:"search-box"}},t._l(t.products,(function(n){return e("div",{key:n.id,staticClass:"box-products"},[e("a",{staticClass:"single-product",attrs:{href:t.url+"/product/"+n.slug}},[0==n.images.length?e("div",[e("nuxt-img",{attrs:{provider:"customProvider",src:"nuxt/default.webp",alt:"default",width:"100px"}})],1):e("div",[e("nuxt-img",{attrs:{provider:"customProvider",src:n.images[0].path,alt:n.name,width:"100px"}})],1),t._v(" "),e("div",{staticClass:"ms-5"},[e("p",[t._v(t._s(n.name))]),t._v(" "),e("p",[e("strong",[t._v(t._s(n.price)+" €")])])])])])})),0)])])])])])}),[],!1,null,null,null);e.default=component.exports},534:function(t,e,n){"use strict";n(532)},535:function(t,e,n){"use strict";var r=n(8),o=n(536),c=n(45),l=n(46),d=n(69),v=n(201);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=c(this),n=l(e),r=v(e,0);return r.length=o(r,e,e,n,0,void 0===t?1:d(t)),r}})},536:function(t,e,n){"use strict";var r=n(134),o=n(46),c=n(246),l=n(43),d=function(t,e,source,n,v,f,h,_){for(var element,m,C=v,x=0,w=!!h&&l(h,_);x<n;)x in source&&(element=w?w(source[x],x,e):source[x],f>0&&r(element)?(m=o(element),C=d(t,e,element,m,C,f-1)-1):(c(C+1),t[C]=element),C++),x++;return C};t.exports=d},537:function(t,e,n){n(114)("flat")},545:function(t,e,n){t.exports={}},556:function(t,e,n){"use strict";n(545)},582:function(t,e,n){"use strict";n.r(e);var r=n(11),o=(n(51),n(0),n(19),n(20),n(15),n(535),n(537),n(356),{auth:!0,components:{CreateCoupons:function(){return n.e(9).then(n.bind(null,632))}},data:function(){return{coupons:[],page:1,perPage:10,newCoupon:!1}},beforeMount:function(){var t=this;this.$root.$on("closeNewCoupon",(function(data){t.newCoupon=data}))},mounted:function(){this.getCoupons()},computed:{paginatedItems:function(){var t=(this.page-1)*this.perPage;return this.coupons.slice(t,t+this.perPage)}},methods:{getCoupons:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/api/cupons").then((function(e){t.coupons=Object.values(e.data.data).flat(),t.$root.$emit("loading",!1)})).catch((function(e){t.$root.$emit("loading",!1)}));case 2:case"end":return e.stop()}}),e)})))()},destroy:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$axios.delete("/api/cupons/".concat(t)).then((function(){e.getCoupons(),e.$notify({title:"Cupón eliminado"})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})))()},myCallback:function(t){this.page=t}}}),c=(n(556),n(68)),component=Object(c.a)(o,(function(){var t,e=this,n=e._self._c;return n("div",[0==e.newCoupon?n("div",{staticClass:"main"},[n("div",[n("div",{staticClass:"d-flex justify-content-end"},[n("button",{staticClass:"btn bg-trivi-green text-white mb-2",on:{click:function(t){e.newCoupon=!0}}},[n("i",{staticClass:"fa fa-plus"})])]),e._v(" "),e._m(0)]),e._v(" "),n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table"},[e._m(1),e._v(" "),(null===(t=e.coupons)||void 0===t?void 0:t.length)>0?n("tbody",e._l(e.paginatedItems,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.code))]),e._v(" "),n("td",[e._v(e._s(t.discount))]),e._v(" "),n("td",[e._v(e._s(t.validity))]),e._v(" "),1==t.status?n("td",[e._v("Inactivo")]):n("td",[e._v("Activo")]),e._v(" "),n("td",[n("form",{on:{submit:function(n){return n.preventDefault(),e.destroy(t.id)}}},[n("button",{staticClass:"btn btn-danger",attrs:{type:"submit",title:"Eliminar"}},[e._v("\n                                    Eliminar\n                                ")])])])])})),0):n("tbody",[e._m(2)])]),e._v(" "),n("div",{staticClass:"d-flex justify-content-center mt-2"},[n("pagination",{attrs:{records:e.coupons.length,perPage:e.perPage},on:{paginate:e.myCallback},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)])]):e._e(),e._v(" "),1==e.newCoupon?n("CreateCoupons"):e._e()],1)}),[function(){var t=this._self._c;return t("div",[t("h2",[this._v("Cupones")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:""}},[t._v("Código")]),t._v(" "),e("th",{attrs:{scope:""}},[t._v("Descuento")]),t._v(" "),e("th",{attrs:{scope:""}},[t._v("Fecha de expiración")]),t._v(" "),e("th",{attrs:{scope:""}},[t._v("Estado")]),t._v(" "),e("th",[t._v("Acción")])])])},function(){var t=this._self._c;return t("tr",[t("td",{attrs:{colspan:"6"}},[this._v("No hay cupones.")])])}],!1,null,null,null);e.default=component.exports},614:function(t,e,n){"use strict";n.r(e);n(0),n(19),n(20);var r={components:{SideNav:function(){return n.e(2).then(n.bind(null,639))},NavTop:function(){return n.e(0).then(n.bind(null,636))},CouponsTable:function(){return Promise.resolve().then(n.bind(null,582))},Search:function(){return n.e(1).then(n.bind(null,638))},BigLoader:function(){return n.e(3).then(n.bind(null,644))}},data:function(){return{loading:!0}},beforeMount:function(){var t=this;this.$root.$on("loading",(function(data){t.loading=data}))},head:function(){return{titleTemplate:"Cupones"}}},o=n(68),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("SideNav"),t._v(" "),e("NavTop"),t._v(" "),e("Search"),t._v(" "),e("CouponsTable"),t._v(" "),t.loading?e("BigLoader"):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Search:n(533).default,CouponsTable:n(582).default})}}]);