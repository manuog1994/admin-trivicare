(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{588:function(t,e,n){"use strict";n.r(e);n(18);var r=n(11),o=(n(51),n(15),{auth:!0,data:function(){return{orders:[],order:{},pagination:{},page:1,perPage:10}},mounted:function(){this.getOrders()},computed:{paginatedItems:function(){var t=(this.page-1)*this.perPage;return this.orders.slice(t,t+this.perPage)}},methods:{getOrders:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/api/orders");case 2:n=e.sent,t.orders=n.data.data,t.$root.$emit("loading",!1);case 5:case"end":return e.stop()}}),e)})))()},myCallback:function(t){this.page=t}}}),d=n(68),component=Object(d.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"main"},[e("div",[e("div",{staticClass:"d-flex justify-content-end"},[e("button",{staticClass:"btn bg-trivi-red text-white mb-2",on:{click:function(e){return t.$router.push({path:"/orders-history"})}}},[e("i",{staticClass:"fa fa-history"}),t._v("\n                    Historial de pedidos\n                ")])]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[t._m(1),t._v(" "),t.orders.length>0?e("tbody",t._l(t.paginatedItems,(function(n){var r,o,d,c;return e("tr",{key:n.id},[null==n.guest?e("td",[t._v(t._s(null===(r=n.user_profile)||void 0===r?void 0:r.name)+" "+t._s(null===(o=n.user_profile)||void 0===o?void 0:o.lastname))]):e("td",[t._v(t._s(null===(d=n.guest)||void 0===d?void 0:d.name)+" "+t._s(null===(c=n.guest)||void 0===c?void 0:c.lastname))]),t._v(" "),e("td",[t._v(t._s(n.order_date))]),t._v(" "),"PENDIENTE"==n.paid?e("td",[t._v("Pendiente")]):t._e(),t._v(" "),"PROCESANDO"==n.paid?e("td",[t._v("Procesando")]):t._e(),t._v(" "),"PAGADO"==n.paid?e("td",[t._v("Pagado")]):t._e(),t._v(" "),"RECHAZADO"==n.paid?e("td",[t._v("Rechazado")]):t._e(),t._v(" "),e("td",[e("n-link",{staticClass:"btn bg-trivi-blue",attrs:{to:"/orders-view/".concat(n.id)}},[e("i",{staticClass:"pe-7s-look"})]),t._v(" "),e("n-link",{staticClass:"btn bg-trivi-orange",attrs:{to:"/order-edit/".concat(n.id)}},[e("i",{staticClass:"fa fa-edit"})])],1)])})),0):e("tbody",[t._m(2)])]),t._v(" "),e("div",{staticClass:"d-flex justify-content-center mt-2"},[e("pagination",{attrs:{records:t.orders.length,perPage:parseInt(t.perPage)},on:{paginate:t.myCallback},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)])])])}),[function(){var t=this._self._c;return t("div",[t("h2",[this._v("Pedidos Recientes")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:""}},[t._v("Cliente")]),t._v(" "),e("th",{attrs:{scope:""}},[t._v("Fecha")]),t._v(" "),e("th",{attrs:{scope:""}},[t._v("Estado")]),t._v(" "),e("th",{attrs:{scope:""}},[t._v("Acciones")])])])},function(){var t=this._self._c;return t("tr",[t("td",{attrs:{colspan:"6"}},[this._v("No hay pedidos pendientes.")])])}],!1,null,null,null);e.default=component.exports}}]);