(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{557:function(t,e,r){"use strict";r.r(e);var n=r(13),o=(r(55),r(0),r(18),r(19),r(247),r(9),r(132),r(22),{data:function(){return{disabled:!1,errors:[]}},computed:{},mounted:function(){var t=this;if(this.$axios.get("/sanctum/csrf-cookie"),new URLSearchParams(window.location.search).has("code")){var e=window.location.search,r=new URLSearchParams(window.location.search).get("state"),n=e.replace("?state="+r+"&","").replace("code=","auth_code=");this.$axios.post("http://localhost:8000/api/auth/code"+n).then((function(e){t.$auth.loginWith("laravelSanctum",{data:{email:e.data.user.email,provider_id:e.data.user.provider_id}}).then((function(e){t.errors=[],t.$modal.hide("loginModal")})).catch((function(e){t.errors=["Hemos tenido un problema al iniciar sesión, por favor intenta de nuevo o inicia sesión con tu correo y contraseña."],t.$axios.post("/api/error-message",{message:error.response.data.message})}))})).catch((function(e){t.errors=["Hemos tenido problemas al obtener sus datos de Google, por favor intenta de nuevo o inicia sesión con tu correo y contraseña."],t.$axios.post("/api/error-message",{message:error.response.data.message})}))}},methods:{login:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new FormData(t.$refs.loginform),e.next=4,t.$auth.loginWith("laravelSanctum",{data:r}).then((function(e){t.errors=[],t.$modal.hide("loginModal")}));case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),t.errors=["El correo electrónico o la contraseña son incorrectos."],t.$axios.post("/api/error-message",{message:e.t0.response.data.message});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()},loginGoogle:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/api/auth/url").then((function(t){window.location.href=t.data})).catch((function(t){}));case 2:case"end":return e.stop()}}),e)})))()},viewPass:function(t){var e=document.getElementById(t);"password"===e.type?e.type="text":e.type="password"}}}),c=r(68),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-form"},[e("div",[e("client-only",t._l(t.errors,(function(r){return e("div",{key:r.id,staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n                "+t._s(r)+"\n            ")])})),0)],1),t._v(" "),e("form",{ref:"loginform",on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("input",{attrs:{type:"email",name:"email",placeholder:"Email",required:""}}),t._v(" "),e("div",{staticClass:"d-flex"},[e("input",{attrs:{id:"passOne",type:"password",name:"password",placeholder:"Contraseña",required:""}}),t._v(" "),e("span",{staticClass:"form-pass",on:{click:function(e){return t.viewPass("passOne")}}},[e("i",{staticClass:"fa fa-eye"})])]),t._v(" "),e("div",{staticClass:"button-box"},[e("div",{staticClass:"row"},[t._m(0),t._v(" "),e("div",{staticClass:"col-6",staticStyle:{"text-align":"right"}},[e("n-link",{staticClass:"forgot-password",attrs:{to:"/forgot-password"}},[t._v("¿Olvidaste tu contraseña?")])],1)]),t._v(" "),e("button",{class:{disabled:!0},attrs:{title:"Iniciar sesión"}},[t._v("Iniciar sesión")])])]),t._v(" "),e("div",{staticClass:"mt-5"},[e("div",{staticClass:"col-md-12 d-flex justify-content-center"},[e("a",{staticClass:"btn btn-light rounded-0",on:{click:function(e){return e.preventDefault(),t.loginGoogle.apply(null,arguments)}}},[t._m(1)])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-6"},[e("div",{staticClass:"login-toggle-btn"},[e("input",{attrs:{type:"checkbox"}}),t._v(" "),e("label",[t._v("Recuérdame")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex justify-content-center align-items-center"},[e("span",{staticClass:"text-center"},[t._v("Inicia sesión con")]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 m-auto ms-1"},[e("img",{attrs:{src:"/social/google.webp",alt:"google.webp",width:"30px"}})])])])}],!1,null,null,null);e.default=component.exports}}]);