(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{537:function(t,e,n){"use strict";var r=n(8),o=n(538),l=n(45),c=n(46),d=n(69),v=n(201);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=l(this),n=c(e),r=v(e,0);return r.length=o(r,e,e,n,0,void 0===t?1:d(t)),r}})},538:function(t,e,n){"use strict";var r=n(134),o=n(46),l=n(246),c=n(43),d=function(t,e,source,n,v,f,m,_){for(var element,C,w=v,h=0,y=!!m&&c(m,_);h<n;)h in source&&(element=y?y(source[h],h,e):source[h],f>0&&r(element)?(C=o(element),w=d(t,e,element,C,w,f-1)-1):(l(w+1),t[w]=element),w++),h++;return w};t.exports=d},539:function(t,e,n){n(114)("flat")},550:function(t,e,n){t.exports={}},560:function(t,e,n){"use strict";n(550)},588:function(t,e,n){"use strict";n.r(e);n(17);var r=n(11),o=(n(51),n(0),n(18),n(19),n(42),n(537),n(539),n(356),n(559)),l=n.n(o),c={data:function(){return{email:"",old_password:"",password:"",password_confirmation:"",errors:[],disabled:!0,checked:!1}},components:{NewProfile:function(){return Promise.all([n.e(3),n.e(21)]).then(n.bind(null,655))}},mounted:function(){var t=this;this.$nextTick((function(){t.$nuxt.$loading.start(),setTimeout((function(){t.$nuxt.$loading.finish()}),2e3)}));var e=document.title;window.onblur=function(){document.title="Ey, vuelve aquí!"},window.onfocus=function(){document.title=e},this.$auth.fetchUser()},methods:{updateEmail:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.a.fire({title:"¿Estas seguro de que quieres cambiar tu email?",showCancelButton:!0,confirmButtonText:"Si, cambiar"}).then((function(e){e.isConfirmed&&t.$axios.post("/api/update-email/"+t.$auth.user.id,{email:t.email}).then((function(){l.a.fire("¡Email actualizado!","","success"),t.$auth.fetchUser(),t.errors=[],t.email=""})).catch((function(e){t.errors=Object.values(e.response.data).flat()}))}));case 1:case"end":return e.stop()}}),e)})))()},updatePassword:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.post("/api/update-password/"+t.$auth.user.id,{old_password:t.old_password,password:t.password,password_confirmation:t.password_confirmation}).then((function(){l.a.fire("¡Contraseña actualizada!","","success"),t.old_password="",t.password="",t.password_confirmation="",t.errors=[],t.$auth.fetchUser()})).catch((function(e){t.errors=Object.values(e.response.data).flat()}));case 2:case"end":return e.stop()}}),e)})))()},deleteProfile:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l.a.fire({title:"¿Estas seguro de que quieres eliminar esta dirección?",showCancelButton:!0,confirmButtonText:"Si, eliminar"}).then((function(n){n.isConfirmed&&(e.$axios.delete("/api/delete-profile/"+t),e.$auth.fetchUser(),l.a.fire("Su dirección ha sido eliminada!","","success"))}));case 1:case"end":return n.stop()}}),n)})))()},deleteAccount:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.a.fire({title:"¿Estas seguro de que quieres eliminar tu cuenta?",showCancelButton:!0,confirmButtonText:"Si, eliminar"}).then((function(e){e.isConfirmed&&(t.$axios.delete("/api/destroy/"+t.$auth.user.id),l.a.fire("Su cuenta ha sido eliminada!","","success"),t.$auth.logout(),t.$router.push("/"))}));case 1:case"end":return e.stop()}}),e)})))()},resendEmail:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.post("/api/resend-email/"+t.$auth.user.id).then((function(e){console.log(e),t.$notify({title:"Email reenviado"})})).catch((function(e){t.errors=Object.values(e.response.data).flat()}));case 2:case"end":return e.stop()}}),e)})))()},viewPass:function(t){var e=document.getElementById(t);"password"===e.type?e.type="text":e.type="password"}},head:function(){return{title:"Mi Cuenta"}}},d=(n(560),n(68)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("client-only",[e("div",[e("div",{staticClass:"my-account-area pb-80 pt-100"},[t.errors?e("div",{staticClass:"w-50 m-auto"},[e("client-only",t._l(t.errors,(function(n){return e("div",{key:n.id,staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n                        "+t._s(n)+"\n                    ")])})),0)],1):t._e(),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"ms-auto me-auto col-lg-9"},[e("div",{staticClass:"my-account-wrapper"},[e("div",{staticClass:"panel-group",attrs:{id:"faq"}},[e("div",{staticClass:"panel panel-default single-my-account"},[e("div",{staticClass:"panel-heading my-account-title"},[e("h3",{staticClass:"panel-title"},[e("span",[t._v("1 .")]),t._v(" "),e("a",{attrs:{"data-bs-toggle":"collapse",href:"#my-account-1"}},[t._v("Editar datos de tu cuenta ")])])]),t._v(" "),e("div",{staticClass:"panel-collapse collapse show",attrs:{id:"my-account-1","data-bs-parent":"#faq"}},[e("div",{staticClass:"panel-body"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.updateEmail.apply(null,arguments)}}},[e("div",{staticClass:"myaccount-info-wrapper"},[e("div",{staticClass:"account-info-wrapper"},[e("h4",[t._v("Información de mi cuenta")]),t._v(" "),e("h5",[t._v("Correo eléctronico")])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 col-md-12"},[e("p",[e("strong",[t._v("Email actual:")]),t._v(" "+t._s(t.$auth.user.email))]),t._v(" "),e("div",{staticClass:"billing-info"},[e("label",[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"billing-back-btn"},[e("div",{staticClass:"billing-back"},[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"fa fa-arrow-up",attrs:{title:"Atrás"}}),t._v(" atrás")])]),t._v(" "),e("div",{staticClass:"billing-btn"},[e("button",{attrs:{type:"submit",title:"Actualizar email"}},[t._v("Actualizar Email")])])])])])])])]),t._v(" "),e("div",{staticClass:"panel panel-default single-my-account"},[e("div",{staticClass:"panel-heading my-account-title"},[e("h3",{staticClass:"panel-title"},[e("span",[t._v("2 .")]),t._v(" "),e("a",{attrs:{"data-bs-toggle":"collapse",href:"#my-account-2"}},[t._v("Cambiar tu contraseña ")])])]),t._v(" "),e("div",{staticClass:"panel-collapse collapse",attrs:{id:"my-account-2","data-bs-parent":"#faq"}},[e("div",{staticClass:"panel-body"},[e("div",{staticClass:"myaccount-info-wrapper"},[e("div",{staticClass:"account-info-wrapper"},[e("h4",[t._v("Cambiar Contraseña")]),t._v(" "),e("h5",[t._v("Tu Contraseña")])]),t._v(" "),e("form",{on:{submit:function(e){return e.preventDefault(),t.updatePassword.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 col-md-12"},[e("div",{staticClass:"billing-info"},[e("label",[t._v("Contraseña actual")]),t._v(" "),e("div",{staticClass:"d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.old_password,expression:"old_password"}],attrs:{id:"passOne",type:"password",name:"password",required:""},domProps:{value:t.old_password},on:{input:function(e){e.target.composing||(t.old_password=e.target.value)}}}),t._v(" "),e("span",{staticClass:"form-pass",on:{click:function(e){return t.viewPass("passOne")}}},[e("i",{staticClass:"fa fa-eye"})])])])]),t._v(" "),e("div",{staticClass:"col-lg-12 col-md-12"},[e("div",{staticClass:"billing-info"},[e("label",[t._v("Nueva Contraseña")]),t._v(" "),e("div",{staticClass:"d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"passTwo",type:"password",name:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),e("span",{staticClass:"form-pass",on:{click:function(e){return t.viewPass("passTwo")}}},[e("i",{staticClass:"fa fa-eye"})])])])]),t._v(" "),e("div",{staticClass:"col-lg-12 col-md-12"},[e("div",{staticClass:"billing-info"},[e("label",[t._v("Confirma tu nueva Contraseña")]),t._v(" "),e("div",{staticClass:"d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],attrs:{id:"passThree",type:"password",name:"password",required:""},domProps:{value:t.password_confirmation},on:{input:function(e){e.target.composing||(t.password_confirmation=e.target.value)}}}),t._v(" "),e("span",{staticClass:"form-pass",on:{click:function(e){return t.viewPass("passThree")}}},[e("i",{staticClass:"fa fa-eye"})])])])])]),t._v(" "),e("div",{staticClass:"billing-back-btn"},[e("div",{staticClass:"billing-back"},[e("a",{attrs:{href:"#"}},[e("i",{staticClass:"fa fa-arrow-up",attrs:{title:"Atrás"}}),t._v(" atrás")])]),t._v(" "),e("div",{staticClass:"billing-btn"},[e("button",{attrs:{type:"submit",title:"Actualizar contraseña"}},[t._v("Actualizar contraseña")])])])])])])])]),t._v(" "),e("div",{staticClass:"panel panel-default single-my-account"},[e("div",{staticClass:"panel-heading my-account-title"},[e("h3",{staticClass:"panel-title"},[e("span",[t._v("3 .")]),t._v(" "),e("a",{attrs:{"data-bs-toggle":"collapse",href:"#my-account-3"}},[t._v("Gestionar tu dirección de envío ")])])]),t._v(" "),e("div",{staticClass:"panel-collapse collapse",attrs:{id:"my-account-3","data-bs-parent":"#faq"}},[e("div",{staticClass:"panel-body"},[e("div",{staticClass:"myaccount-info-wrapper"},[e("div",{staticClass:"account-info-wrapper"},[e("h4",[t._v("Direcciónes de Envío")])]),t._v(" "),e("div",{staticClass:"row"},[e("client-only",t._l(t.$auth.user.user_profile,(function(n){return e("div",{key:"profile"+n.id},["deleted"!=n.name?e("div",{staticClass:"card shadow w-75 m-auto mb-3"},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(n.name)+"\n                                                                        "+t._s(n.lastname))]),t._v(" "),e("p",{staticClass:"card-text"},[t._v(t._s(n.address))]),t._v(" "),e("p",{staticClass:"card-text"},[t._v(t._s(n.phone))]),t._v(" "),e("p",{staticClass:"card-text"},[t._v(t._s(n.zipcode)+"\n                                                                        "+t._s(n.city)+" ("+t._s(n.state)+")")]),t._v(" "),e("p",{staticClass:"card-text"},[t._v(t._s(n.country))]),t._v(" "),e("a",{staticClass:"btn btn-light",on:{click:function(e){return e.preventDefault(),t.deleteProfile(n.id)}}},[t._v("Eliminar")])])]):t._e()])})),0)],1),t._v(" "),e("div",{staticClass:"billing-back-btn"},[e("div",{staticClass:"billing-back"},[e("a",{attrs:{href:"#",title:"Atrás"}},[e("i",{staticClass:"fa fa-arrow-up"}),t._v(" atrás")])])])])])])]),t._v(" "),e("div",{staticClass:"panel panel-default single-my-account"},[e("div",{staticClass:"panel-heading my-account-title"},[e("h3",{staticClass:"panel-title"},[e("span",[t._v("4 .")]),t._v(" "),e("a",{attrs:{"data-bs-toggle":"collapse",href:"#my-account-4"}},[t._v("Crear\n                                                otra dirección de envío ")])])]),t._v(" "),e("div",{staticClass:"panel-collapse collapse",attrs:{id:"my-account-4","data-bs-parent":"#faq"}},[e("div",{staticClass:"panel-body"},[e("div",{staticClass:"myaccount-info-wrapper"},[e("NewProfile")],1)])])])])])])])])]),t._v(" "),e("div",{staticClass:"text-center mb-5"},[e("a",{staticClass:"btn btn-light",on:{click:function(e){return e.preventDefault(),t.deleteAccount.apply(null,arguments)}}},[t._v("Eliminar cuenta")])])])])}),[],!1,null,"031eff57",null);e.default=component.exports}}]);